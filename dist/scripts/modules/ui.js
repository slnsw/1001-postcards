"use strict";define(["require","jquery","utils"],function(e,n,t){return function(e,t){var r;return{app:{},filters:{album_caption:[]},init:function(e,t){r=this,r.app=e;var i=new n.Deferred;return i.done(t),i.resolve(),i},create:function(){r.createFilters(),r.render(),r.attachEvents()},createFilters:function(){var e=r.app.fetch();for(var n in e){var t=e[n].get("node");for(var i in r.filters)t[i]&&r.filters[i].indexOf(t[i])<0&&r.filters[i].push(t[i])}},render:function(){var e=r.app.container;e.find("#filters > .wrapper").append(function(){var e="";return n.each(r.filters,function(t,r){r.sort(),e+='<select name="'+t+'">',e+='<option name="none">None</option>',n.each(r,function(n,t){e+='<option value="'+t+'">'+t+"</option>"}),e+="</select>"}),e})},attachEvents:function(){var e=r.app.container;e.find("#filters > .wrapper > select").on("change",r.app.filter)}}}(window,document)});